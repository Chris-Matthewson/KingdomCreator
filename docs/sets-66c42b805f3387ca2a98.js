!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=61)}([function(e,t){e.exports=ko},function(e,t){e.exports=jQuery},function(e,t,n){var r,i,o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};r=[n,t,n(11),n(20),n(5),n(6),n(7),n(8),n(9)],void 0===(i=function(e,t,n,r,i,s,a,u,d){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(){}return e.convertToSetId=function(e){var t=this.convertToSetIdSafe(e);if(!t)throw new Error("Unknown set ID: "+t);return t},e.convertToSetIdSafe=function(e){var t,n,r=Object.keys(u.SetId);try{for(var i=o(r),s=i.next();!s.done;s=i.next()){var a=s.value;if(u.SetId[a]==e)return e}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return null},e.getAllSets=function(){var t,n,r=[],i=Object.keys(e.sets);try{for(var s=o(i),a=s.next();!a.done;a=s.next()){var u=a.value;r.push(e.sets[u])}}catch(e){t={error:e}}finally{try{a&&!a.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return r},e.getSetById=function(t){return e.sets[t]},e.getCardById=function(t){var n=e.cards[t];if(!n)throw new Error("Unknown card id: {$cardId}");return n},e.getSupplyCardById=function(t){var n=e.getCardById(t);if(!(n instanceof d.SupplyCard))throw new Error("Card id ({$cardId}) does not refer to a supply card");return n},e.getEventById=function(t){var n=e.getCardById(t);if(!(n instanceof i.Event))throw new Error("Card id ({$cardId}) does not refer to an event");return n},e.getLandmarkById=function(t){var n=e.getCardById(t);if(!(n instanceof s.Landmark))throw new Error("Card id ({$cardId}) does not refer to a landmark");return n},e.getProjectById=function(t){var n=e.getCardById(t);if(!(n instanceof a.Project))throw new Error("Card id ({$cardId}) does not refer to a project");return n},e.getBoonById=function(t){var r=e.getCardById(t);if(!(r instanceof n.Boon))throw new Error("Card id ({$cardId}) does not refer to a boon");return r},e.createSets=function(){var e,t,n=Object.keys(window.DominionSets),i={};try{for(var s=o(n),a=s.next();!a.done;a=s.next()){var u=a.value;i[u]=r.DominionSet.fromJson(window.DominionSets[u])}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return i},e.createCardMap=function(){var t,n,r,i,s={},a=Object.keys(e.sets);try{for(var u=o(a),d=u.next();!d.done;d=u.next()){var c=d.value,l=e.sets[c],f=l.supplyCards.concat(l.events,l.landmarks,l.projects,l.boons);try{for(var p=(r=void 0,o(f)),v=p.next();!v.done;v=p.next()){var h=v.value;s[h.id]=h,s[h.shortId]||(s[h.shortId]=h)}}catch(e){r={error:e}}finally{try{v&&!v.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{d&&!d.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.sets=e.createSets(),e.cards=e.createCardMap(),e}();t.DominionSets=c}.apply(t,r))||(e.exports=i)},,function(e,t,n){var r,i;r=[n,t,n(14)],void 0===(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n){this.treasure=e,this.potion=t,this.debt=n}return e.prototype.getType=function(){return[n.CostType.TREASURE_2_OR_LESS,n.CostType.TREASURE_2_OR_LESS,n.CostType.TREASURE_2_OR_LESS,n.CostType.TREASURE_3,n.CostType.TREASURE_4,n.CostType.TREASURE_5,n.CostType.TREASURE_6,n.CostType.TREASURE_7,n.CostType.TREASURE_8_OR_MORE][Math.min(this.treasure,8)]},e.fromJson=function(t){return new e(t.treasure||0,t.potion||0,t.debt||0)},e}();t.Cost=r}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(4)],void 0===(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i,o,s,a,u,d){this.id=e,this.shortId=t,this.setId=n,this.name=r,this.cost=i,this.isActionSupplier=o,this.isBuySupplier=s,this.isDrawer=a,this.isReaction=u,this.isTrashing=d}return e.fromJson=function(t){return new e(t.id,t.shortId,t.setId,t.name,n.Cost.fromJson(t.cost),t.isActionSupplier||!1,t.isBuySupplier||!1,t.isDrawer||!1,t.isReaction||!1,t.isTrashing||!1)},e}();t.Event=r}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(4)],void 0===(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i){this.id=e,this.shortId=t,this.setId=n,this.name=r,this.cost=i}return e.fromJson=function(t){return new e(t.id,t.shortId,t.setId,t.name,n.Cost.fromJson(t.cost))},e}();t.Landmark=r}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(4)],void 0===(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,n,r,i){this.id=e,this.shortId=t,this.setId=n,this.name=r,this.cost=i}return e.fromJson=function(t){return new e(t.id,t.shortId,t.setId,t.name,n.Cost.fromJson(t.cost))},e}();t.Project=r}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ADVENTURES="adventures",e.ALCHEMY="alchemy",e.BASE_SET="baseset",e.BASE_SET_2="baseset2",e.CORNUCOPIA="cornucopia",e.DARK_AGES="darkages",e.EMPIRES="empires",e.GUILDS="guilds",e.HINTERLANDS="hinterlands",e.INTRIGUE="intrigue",e.INTRIGUE_2="intrigue2",e.NOCTURNE="nocturne",e.PROMOS="promos",e.PROSPERITY="prosperity",e.RENAISSANCE="renaissance",e.SEASIDE="seaside"}(t.SetId||(t.SetId={}))}.apply(t,[n,t]))||(e.exports=r)},function(e,t,n){var r,i;r=[n,t,n(10),n(4)],void 0===(i=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n,r,i,o,s,a,u,d,c,l,f,p,v,h,y,m,S,b){this.id=e,this.shortId=t,this.setId=n,this.name=r,this.cost=i,this.isAction=o,this.isActionSupplier=s,this.isAttack=a,this.isBuySupplier=u,this.isDrawer=d,this.isDoom=c,this.isDuration=l,this.isFate=f,this.isMultiDrawer=p,this.isNight=v,this.isReaction=h,this.isReserve=y,this.isTrashing=m,this.isTreasure=S,this.isVictory=b}return e.prototype.isOfType=function(e){switch(e){case n.CardType.ACTION:return this.isAction;case n.CardType.ACTION_SUPPLIER:return this.isActionSupplier;case n.CardType.ATTACK:return this.isAttack;case n.CardType.BUY_SUPPLIER:return this.isBuySupplier;case n.CardType.DRAWER:return this.isDrawer;case n.CardType.DOOM:return this.isDoom;case n.CardType.DURATION:return this.isDuration;case n.CardType.FATE:return this.isFate;case n.CardType.MULTI_DRAWER:return this.isMultiDrawer;case n.CardType.NIGHT:return this.isNight;case n.CardType.REACTION:return this.isReaction;case n.CardType.RESERVE:return this.isReserve;case n.CardType.TRASHING:return this.isTrashing;case n.CardType.TREASURE:return this.isTreasure;case n.CardType.VICTORY:return this.isVictory;default:throw new Error("Unknown card type: "+e)}},e.fromJson=function(t){return new e(t.id,t.shortId,t.setId,t.name,r.Cost.fromJson(t.cost),t.isAction||!1,t.isActionSupplier||!1,t.isAttack||!1,t.isBuySupplier||!1,t.isDrawer||!1,t.isDoom||!1,t.isDuration||!1,t.isFate||!1,t.isMultiDrawer||!1,t.isNight||!1,t.isReaction||!1,t.isReserve||!1,t.isTrashing||!1,t.isTreasure||!1,t.isVictory||!1)},e}();t.SupplyCard=i}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ACTION="isAction",e.ACTION_SUPPLIER="isActionSupplier",e.ATTACK="isAttack",e.BUY_SUPPLIER="isBuySupplier",e.DRAWER="isDrawer",e.DOOM="isDoom",e.DURATION="isDuration",e.FATE="isFate",e.MULTI_DRAWER="isMultiDrawer",e.NIGHT="isNight",e.REACTION="isReaction",e.RESERVE="isReserve",e.TRASHING="isTrashing",e.TREASURE="isTreasure",e.VICTORY="isVictory"}(t.CardType||(t.CardType={}))}.apply(t,[n,t]))||(e.exports=r)},function(e,t,n){var r;void 0===(r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,r){this.id=e,this.shortId=t,this.setId=n,this.name=r}return e.fromJson=function(t){return new e(t.id,t.shortId,t.setId,t.name)},e}();t.Boon=n}.apply(t,[n,t]))||(e.exports=r)},,function(e,t,n){var r,i;r=[n,t,n(0),n(28)],void 0===(i=function(e,t,n,r){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.RANDOMIZER=0]="RANDOMIZER",e[e.SETS=1]="SETS"}(i=t.MenuItem||(t.MenuItem={}));var o=function(){function e(t,r){this.subtitle=n.observable(t),this.showMenu=n.observable(!1),this.menuItems=e.createMenuItems(r),this.isCondensed=n.observable(!1)}return e.prototype.toggleMenu=function(){var e=!this.showMenu();e&&$(window).scrollTop(0),this.showMenu(e)},e.createMenuItems=function(e){return[new r.MenuItemViewModel("Randomizer","/index.html",e==i.RANDOMIZER),new r.MenuItemViewModel("Recommended Kingdoms","/sets.html",e==i.SETS)]},e}();t.Page=o}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TREASURE_2_OR_LESS="treasure2",e.TREASURE_3="treasure3",e.TREASURE_4="treasure4",e.TREASURE_5="treasure5",e.TREASURE_6="treasure6",e.TREASURE_7="treasure7",e.TREASURE_8_OR_MORE="treasure8"}(t.CostType||(t.CostType={}))}.apply(t,[n,t]))||(e.exports=r)},,function(e,t,n){var r,i;r=[n,t,n(0),n(1),n(17)],void 0===(i=function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=800;function s(e){e.isCondensed(r(window).width()<=o)}t.initialize=function(e){i.initializeBindingHandlers(),r(document).ready(function(){n.applyBindings(e),r(window).on("resize",function(){return s(e)}),s(e)})}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(18),n(19),n(21),n(22),n(23),n(24),n(25),n(26),n(27)],void 0===(i=function(e,t,n,r,i,o,s,a,u,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeBindingHandlers=function(){n.bindCardImage(),r.bindDominionSetName(),i.bindDominionSetNames(),o.bindFadeIn(),s.bindScaleOffWidthOfImage(),a.bindShowFloating(),u.bindShowMenu(),d.bindSlideVisible(),c.bindWithCard()}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(0)],void 0===(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="/img/cards";t.bindCardImage=function(){n.bindingHandlers.cardImage={update:function(e,t,n,i,o){var s=t(),a="string"==typeof s?s:s.id;e.src=r+"/"+a+".jpg"}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(0),n(1),n(2)],void 0===(i=function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindDominionSetName=function(){n.bindingHandlers.dominionSetName={update:function(e,t,n,o,s){var a=t(),u="string"==typeof a?a:a.setId,d=i.DominionSets.getSetById(u);r(e).html('<span class="set-name '+u+'">'+d.name+"</span>")}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(11),n(9),n(5),n(6),n(7)],void 0===(i=function(e,t,n,r,i,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t,n,r,i,o,s){this.setId=e,this.name=t,this.supplyCards=n,this.events=r,this.landmarks=i,this.projects=o,this.boons=s}return e.fromJson=function(t){return new e(t.id,t.name,(t.cards||[]).map(r.SupplyCard.fromJson),(t.events||[]).map(i.Event.fromJson),(t.landmarks||[]).map(o.Landmark.fromJson),(t.projects||[]).map(s.Project.fromJson),(t.boons||[]).map(n.Boon.fromJson))},e}();t.DominionSet=a}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i,o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};r=[n,t,n(0),n(1),n(2)],void 0===(i=function(e,t,n,r,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindDominionSetNames=function(){n.bindingHandlers.dominionSetNames={update:function(e,t,s,a,u){var d,c,l=n.unwrap(t()),f=[];try{for(var p=o(l),v=p.next();!v.done;v=p.next()){var h=v.value,y=i.DominionSets.getSetById(h);f.push('<span class="set-name '+h+'">'+y.name+"</span>")}}catch(e){d={error:e}}finally{try{v&&!v.done&&(c=p.return)&&c.call(p)}finally{if(d)throw d.error}}r(e).html(f.join(" "))}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(0),n(1)],void 0===(i=function(e,t,n,r){"use strict";function i(e,t){t?(e.show(),setTimeout(function(){e.css("opacity","1")},0)):(e.hide(),e.css("opacity","0"))}Object.defineProperty(t,"__esModule",{value:!0}),t.bindFadeIn=function(){n.bindingHandlers.fadeIn={init:function(e,t,o,s,a){i(r(e),n.unwrap(t()))},update:function(e,t,o,s,a){var u=r(e),d=n.unwrap(t());!!d!=(1==Number(u.css("opacity")))&&i(u,d)}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(0),n(1)],void 0===(i=function(e,t,n,r){"use strict";function i(e,t){var n=e.height(),r=t.naturalHeight/t.naturalWidth;r&&e.height(e.width()*r);var i=e.height();return n!=i&&0!=i}Object.defineProperty(t,"__esModule",{value:!0}),t.bindScaleOffWidthOfImage=function(){n.bindingHandlers.scaleOffWidthOfImage={init:function(e,t,o,s,a){var u=n.unwrap(t()),d=n.unwrap(u.selector),c=r(e),l=c.find(d).eq(0),f=l.get(0);n.utils.domData.set(e,"image",f);var p=function(){i(c,f)};r(window).on("resize",p),l.on("load",p),p()},update:function(e,t,o,s,a){n.unwrap(n.unwrap(t()).trigger);var u=r(e),d=n.utils.domData.get(e,"image");i(u,d)||setTimeout(function(){i(u,d)},0)}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(0)],void 0===(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=8;t.bindShowFloating=function(){n.bindingHandlers.showFloating={init:function(e,t,i,o,s){var a=$(n.utils.unwrapObservable(t())),u=$(e),d=$(window);d.scroll(function(){var e=a.offset().top-r;d.scrollTop()>e&&o.isCondensed()?(u.addClass("visible"),a.addClass("hidden")):(u.removeClass("visible"),a.removeClass("hidden"))})}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(0),n(1)],void 0===(i=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindShowMenu=function(){n.bindingHandlers.showMenu={init:function(e,t,i,o,s){r(window).on("resize",function(){var t=r(e),i=t.children(),o=n.utils.domData.get(e,"showMenu-enabled"),s=n.utils.domData.get(e,"showMenu-show");o&&t.height(s?i.outerHeight():0)})},update:function(e,t,i,o,s){var a=n.unwrap(t()),u=n.unwrap(a.enabled),d=n.unwrap(a.show),c=r(e);n.utils.domData.set(e,"showMenu-enabled",u),n.utils.domData.set(e,"showMenu-show",d),u?c.height(d?c.children().outerHeight():0):c.css("height","auto")}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(0)],void 0===(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindSlideVisible=function(){n.bindingHandlers.slideVisible={update:function(e,t,r,i,o){var s=n.unwrap(t()),a=r.get("slideDuration")||400;s?$(e).slideDown(a):$(e).slideUp(a)}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(0),n(2)],void 0===(i=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindWithCard=function(){n.bindingHandlers.withCard={init:function(e,t,i,o,s){var a=r.DominionSets.getCardById(n.unwrap(t()));return n.bindingHandlers.with.init(e,function(){return a},i,o,s)},update:function(e,t,i,o,s){var a=r.DominionSets.getCardById(n.unwrap(t()));return n.bindingHandlers.with.update(e,function(){return a},i,o,s)}}}}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i;r=[n,t,n(0)],void 0===(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,r){this.title=e,this.url=t,this.isActive=n.observable(!!r)};t.MenuItemViewModel=r}.apply(t,r))||(e.exports=i)},,function(e,t,n){var r,i;r=[n,t,n(0)],void 0===(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){this.setId=e.setId,this.name=e.name,this.isActive=n.observable(t)};t.SetViewModel=r}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMessageForAddonsDescription=function(e,t,n){return e&&t&&n?"Events, Landmarks and Projects":e&&t?"Events and Landmarks":e&&n?"Events and Projects":t&&n?"Landmarks and Projects":e?"Events":t?"Landmarks":n?"Projects":""}}.apply(t,[n,t]))||(e.exports=r)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){n(62),e.exports=n(66)},function(e,t,n){var r,i;r=[n,t,n(16),n(63)],void 0===(i=function(e,t,n,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.initialize(new r.SetsPage)}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i,o,s=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),a=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};r=[n,t,n(2),n(64),n(13),n(13),n(8),n(30),n(31)],void 0===(i=function(e,t,n,r,i,o,u,d,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l="Recommended Sets of 10",f=u.SetId.BASE_SET,p=new Set([u.SetId.BASE_SET_2,u.SetId.INTRIGUE_2,u.SetId.PROMOS]),v=function(e){function t(){var t=e.call(this,l,i.MenuItem.SETS)||this;return t.createRows=function(e){for(var n=t.numberOfColumns(),r=[],i=0;i<n;i++){var o=i*n;r.push(e.slice(o,o+n))}return r},t.titleForAddons=function(e){var t=e.eventIds.length>0,n=e.landmarkIds.length>0,r=e.projectIds.length>0;return c.getMessageForAddonsDescription(t,n,r)},t.addonIds=function(e){return e.eventIds.concat(e.landmarkIds,e.projectIds)},t.sets=ko.observableArray(t.createSetViewModels()),t.selectedSetId=ko.observable(f),t.visibleKingdoms=t.createVisibleKingdomsObservable(),t.numberOfColumns=ko.observable(4),t.listenForResizeAndSetNumberOfColumns(),t}return s(t,e),t.prototype.createSetViewModels=function(){var e,t,r=n.DominionSets.getAllSets().concat().sort(function(e,t){return e.name==t.name?0:e.name<t.name?-1:1}),i=[];try{for(var o=a(r),s=o.next();!s.done;s=o.next()){var u=s.value;p.has(u.setId)||i.push(new d.SetViewModel(u,!1))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}return i},t.prototype.createVisibleKingdomsObservable=function(){var e=this;return ko.pureComputed(function(){return r.DominionKingdoms.kingdoms[e.selectedSetId()].sort(t.compareKingdoms)})},t.prototype.listenForResizeAndSetNumberOfColumns=function(){var e=this;$(window).resize(function(){return e.updateNumberOfColumns()}),this.updateNumberOfColumns()},t.prototype.updateNumberOfColumns=function(){var e=$(window).width()<=450;this.numberOfColumns(e?4:5)},t.compareKingdoms=function(e,t){var n=e.setIds.concat().sort(),r=t.setIds.concat().sort();if(n.length!=r.length)return n.length<r.length?-1:1;if(n[0]!=r[0])return n[0]<r[0]?-1:1;for(var i=1;i<n.length;i++)if(n[i]!=r[i])return n[i]<r[i]?-1:1;return 0},t}(o.Page);t.SetsPage=v}.apply(t,r))||(e.exports=i)},function(e,t,n){var r,i,o=this&&this.__values||function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}};r=[n,t,n(65)],void 0===(i=function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.createKingdoms=function(){var e,t,r=Object.keys(window.DominionKingdoms),i={};try{for(var s=o(r),a=s.next();!a.done;a=s.next()){var u=a.value,d=window.DominionKingdoms[u].kingdoms;i[u]=d.map(function(e){return n.DominionKingdom.fromJson(e)})}}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return i},e.kingdoms=e.createKingdoms(),e}();t.DominionKingdoms=r}.apply(t,r))||(e.exports=i)},function(e,t,n){var r;void 0===(r=function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t,n,r,i,o,s,a){this.name=e,this.setIds=t,this.supplyIds=n,this.eventIds=r,this.landmarkIds=i,this.projectIds=o,this.boonIds=s,this.metadata=a}return e.fromJson=function(t){return new e(t.name,t.sets,t.supply||[],t.events||[],t.landmarks||[],t.projects||[],t.boons||[],r.fromJson(t.metadata))},e}();t.DominionKingdom=n;var r=function(){function e(e,t){this.useColonies=e,this.useShelters=t}return e.fromJson=function(t){return new e(!!t&&t.colonies,!!t&&t.shelters)},e}();t.Metadata=r}.apply(t,[n,t]))||(e.exports=r)},function(e,t,n){}]);